<div id="wp_1" ></div>
<script src="http://echarts.baidu.com/doc/example/timelineOption.js"></script>
<script>

    require.config({
        paths: {
            echarts: './mapT/dist'
        }
    });
    require(
        [
            'echarts',
            'echarts/dark',
            'echarts/chart/map',
            'echarts/chart/line',
            'echarts/chart/bar',
            'echarts/chart/pie',
            'echarts/chart/funnel'
        ],
        function (ec,theme) {
            var option={
                timeline:{
                    x:'10%',
                    y:'88%',
                    data:getWeekTime(),
                    autoPlay : true,
                    playInterval : 1000
                },

            options:[
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:335, name:'已记录企业'},
                                {value:310, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:35, name:'已记录企业'},
                                {value:120, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:200, name:'已记录企业'},
                                {value:400, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:235, name:'已记录企业'},
                                {value:510, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:35, name:'已记录企业'},
                                {value:510, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:245, name:'已记录企业'},
                                {value:430, name:'未记录企业'}
                            ]
                        }
                    ]
                },
                {
                    title : {
                        text: '最近七天养殖企业动态',
                        x:'center',
                        y:'60'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'right',
                        data:['已记录企业','未记录企业']
                    },
                    toolbox: {
                        show : false,
                        feature : {
                            mark : {show: true},
                            dataView : {show: true, readOnly: true},
                            magicType : {
                                show: true,
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'统计结果',
                            type:'pie',
                            radius : '50%',
                            center: ['48%', '55%'],
                            data:[
                                {value:435, name:'已记录企业'},
                                {value:220, name:'未记录企业'}
                            ]
                        }
                    ]
                }
            ]
            };
            var waterProductChart1=ec.init(document.getElementById("wp_1"),'macarons');
            waterProductChart1.setOption(option);
            window.onresize = waterProductChart1.resize;
            function getWeekTime()
            {
                var dateArr=[];
                var today = new Date();
                for(var i=6;i>=0;i--){
                    var date = new Date(today.getTime() - (i * 24 * 60 * 60 * 1000));
                    var sdate=date.getMonth()+1+"-"+date.getDate();
                    dateArr.push(sdate);
                }
                return dateArr;
            }

        })
</script>
